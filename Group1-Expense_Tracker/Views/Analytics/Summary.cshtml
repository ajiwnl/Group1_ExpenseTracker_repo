<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

@{
    ViewData["Title"] = "Summary";
    var isDarkMode = Context.Request.Cookies["darkMode"] == "true";

}

@await Html.PartialAsync("Sidebar")
@await Html.PartialAsync("ProfileRibbon")

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


<div class="flex h-auto w-screen flex-row dark:bg-black">
    <div class="hidden h-full w-1/6 md:flex">
    </div>
    <div class="h-auto w-full md:w-5/6">
        <div class="h-auto w-full rounded-t-lg bg-gray-100 from-violet-950 to-slate-950 dark:bg-gradient-to-b">
            <div class="flex h-full flex-col md:p-8">
                <div class="credential-gradient flex h-full w-full flex-col rounded-lg py-8 shadow-sm shadow-black dark:shadow-lg md:flex-row">
                    <div class="flex h-1/2 w-full flex-col px-8 md:w-1/2 md:h-full">
                        <div class="flex h-8 w-full justify-end">
                            <button type="button" class="rounded-full bg-white px-6 py-1 shadow-sm shadow-black">Total</button>
                        </div>
                        <div class="mt-2 flex h-auto min-h-44 flex-col gap-1">
                            <label class="text-lg font-bold text-white">Expense Summary</label>
                            <div class="flex h-10 flex-row items-center gap-2">
                                <svg width="18" height="15" viewBox="0 0 18 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 0L17.6603 15H0.339746L9 0Z" fill="#00FD87" />
                                </svg>
                                <label class="text-lg font-bold text-green-400">10.45%</label>
                            </div>
                            <label class="text-nowrap text-center text-4xl font-bold tracking-wider text-white drop-shadow-md md:text-6xl">₱ 401,542.44</label>
                            <div class="mt-2 flex flex-row items-center justify-center gap-3 text-center md:mt-5">
                                <label class="text-lg font-bold text-white">Total Expense</label>
                                <button type="button"><img class="mt-1 h-4 w-4" src="/img/EyeIcon.png" /></button>
                            </div>
                        </div>
                    </div>
                    <div class="mt-5 flex w-full flex-row flex-wrap items-center justify-center gap-5 md:mt-0 md:w-1/2">
                        <div class="relative flex h-24 w-48 flex-col gap-1 rounded-md bg-slate-950 p-3 shadow-md shadow-black">
                            <label class="font-bold tracking-wide text-white">Food Expenses</label>
                            <label class="font-bold text-green-500">₱12,345.77</label>
                            <div class="absolute bottom-4 right-4 h-4 w-4 rounded-full bg-green-500"></div>
                        </div>
                        <div class="relative flex h-24 w-48 flex-col gap-1 rounded-md bg-slate-950 p-3 shadow-md shadow-black">
                            <label class="font-bold tracking-wide text-white">Bills Expenses</label>
                            <label class="font-bold text-blue-500">₱12,345.77</label>
                            <div class="absolute bottom-4 right-4 h-4 w-4 rounded-full bg-blue-500"></div>
                        </div>
                        <div class="relative flex h-24 w-48 flex-col gap-1 rounded-md bg-slate-950 p-3 shadow-md shadow-black">
                            <label class="font-bold tracking-wide text-white">Vehicle Expenses</label>
                            <label class="font-bold text-violet-500">₱12,345.77</label>
                            <div class="absolute bottom-4 right-4 h-4 w-4 rounded-full bg-violet-500"></div>
                        </div>
                        <div class="relative flex h-24 w-48 flex-col gap-1 rounded-md bg-slate-950 p-3 shadow-md shadow-black">
                            <label class="font-bold tracking-wide text-white">Travel Expenses</label>
                            <label class="font-bold text-yellow-500">₱12,345.77</label>
                            <div class="absolute bottom-4 right-4 h-4 w-4 rounded-full bg-yellow-500"></div>
                        </div>
                        <div class="relative flex h-24 w-48 flex-col gap-1 rounded-md bg-slate-950 p-3 shadow-md shadow-black">
                            <label class="font-bold tracking-wide text-white">Hobby Expenses</label>
                            <label class="font-bold text-red-500">₱12,345.77</label>
                            <div class="absolute bottom-4 right-4 h-4 w-4 rounded-full bg-red-500"></div>
                        </div>
                        <div class="relative flex h-24 w-48 flex-col gap-1 rounded-md bg-slate-950 p-3 shadow-md shadow-black">
                            <label class="font-bold tracking-wide text-white">Other Expenses</label>
                            <label class="font-bold text-rose-500">₱12,345.77</label>
                            <div class="absolute bottom-4 right-4 h-4 w-4 rounded-full bg-rose-500"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="h-auto bg-gray-100 px-8 dark:bg-slate-950">
            <div class="flex flex-col gap-5 pt-5 md:pt-0">
                <label class="text-2xl font-bold text-violet-500 dark:text-white">Report Generation</label>
                <div class="flex flex-row gap-5">
                    <button type="button" class="rounded-full bg-white px-6 py-1 shadow-black drop-shadow-md">This Week</button>
                    <button type="button" class="rounded-full bg-white px-6 py-1 shadow-black drop-shadow-md">Food Expense</button>
                </div>
            </div>
            <div class="mt-5 h-3/6 overflow-x-auto shadow-black drop-shadow-md">
                <table class="w-full min-w-full table-fixed bg-white dark:bg-transparent">
                    <thead>
                        <tr class="text-xs sm:text-base">
                            <th class="w-1/5 rounded-s-md bg-violet-500 py-2 font-bold text-white">
                                Expense Name
                            </th>
                            <th class="w-1/5 bg-violet-500 py-2 font-bold text-white">
                                Amount
                            </th>
                            <th class="w-1/5 bg-violet-500 py-2 font-bold text-white">
                                Date
                            </th>
                            <th class="w-1/5 bg-violet-500 py-2 font-bold text-white">
                                Category
                            </th>
                            <th class="w-1/5 bg-violet-500 py-2 font-bold text-white">
                                Description
                            </th>
                            <th class="w-1/5 rounded-e-md bg-violet-500 py-2 font-bold text-white">
                                Actions
                            </th>
                        </tr>
                    </thead>
                    <tbody> 
                        <tr class="text-xs sm:text-base">
                            <td class="py-2 text-center dark:text-white">Sample Expense</td>
                            <td class="py-2 text-center dark:text-white">$100</td>
                            <td class="py-2 text-center dark:text-white">01/09/2024</td>
                            <td class="py-2 text-center dark:text-white">Travel Expense</td>
                            <td class="py-2 text-center dark:text-white">Business Trip</td>
                            <td class="py-2">
                                <div class="flex flex-row items-center justify-center gap-2">
                                    <button type="button">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M17.204 10.7959L19 8.99994C19.5453 8.45469 19.8179 8.18207 19.9636 7.88797C20.2409 7.32842 20.2409 6.67146 19.9636 6.11191C19.8179 5.81782 19.5453 5.54519 19 4.99994C18.4548 4.45469 18.1821 4.18207 17.888 4.03633C17.3285 3.75905 16.6715 3.75905 16.112 4.03633C15.8179 4.18207 15.5453 4.45469 15 4.99994L13.1814 6.8186C14.1452 8.4692 15.5314 9.84476 17.204 10.7959ZM11.7269 8.27305L4.8564 15.1436C4.43134 15.5686 4.21881 15.7812 4.07907 16.0422C3.93934 16.3033 3.88039 16.5981 3.7625 17.1875L3.1471 20.2645C3.08058 20.5971 3.04732 20.7634 3.14193 20.858C3.23654 20.9526 3.40284 20.9194 3.73545 20.8529L6.81243 20.2375C7.40189 20.1196 7.69661 20.0606 7.95771 19.9209C8.21881 19.7812 8.43134 19.5686 8.8564 19.1436L15.7458 12.2542C14.1241 11.2385 12.7524 9.87622 11.7269 8.27305Z" fill="@(isDarkMode ? "#FFFFFF" : "#222222")" />
                                        </svg>
                                    </button>
                                    <button type="button">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 13.4142L8.70711 16.7071L7.29289 15.2929L10.5858 12L7.29289 8.70711L8.70711 7.29289L12 10.5858L15.2929 7.29289L16.7071 8.70711L13.4142 12L16.7071 15.2929L15.2929 16.7071L12 13.4142Z" fill="@(isDarkMode ? "#FFFFFF" : "#222222")" />
                                        </svg>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="mt-5 flex justify-end">
                <div class="flex h-16 w-44 flex-col justify-center rounded-2xl bg-violet-500 px-6 shadow-black drop-shadow-lg">
                    <label class="text-sm font-bold tracking-wide text-white">Filtered Sum</label>
                    <label class="font-bold text-white">₱ 100,000.00</label>
                </div>
            </div>
        </div>
        <div class="h-auto bg-gray-100 px-8 pb-20 pt-8 dark:bg-slate-950">
            <div class="flex flex-col gap-5">
                <label class="text-2xl font-bold text-violet-500 dark:text-white">Expense Trends</label>
                <div class="flex flex-row gap-5">
                    <button type="button" class="rounded-full bg-white px-6 py-1 shadow-black drop-shadow-md">Food Expense</button>
                    <button type="button" class="rounded-full bg-white px-6 py-1 shadow-black drop-shadow-md">Jan 1 - Jan 7</button>
                </div>
            </div>
            <canvas class="mt-5" id="myLineChart" width="400" height="200"></canvas>
        </div>
    </div>
</div>

<script>
    var ctx = document.getElementById('myLineChart').getContext('2d');
    var myLineChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
            datasets: [{
                label: 'Sample Data',
                data: [65, 59, 80, 81, 56, 55, 40],
                borderColor: 'rgba(75, 192, 192, 1)',
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                fill: false,
                tension: 0.1
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>

@if (TempData.ContainsKey("LoginSuccess"))
{
    <script>
        var loginSuccess = '@TempData["LoginSuccess"]';
        Swal.fire({
            icon: 'success',
            title: 'Login Successful',
            text: loginSuccess,
        });
    </script>
}